import{_ as h,B as w,h as d,u as i,o as l,c as D,w as c,r as v,a as t,t as m,b as p,v as y,d as n,e as _,f,g as C}from"./app-d4614e56.js";import"https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js";const k={components:{BaseLayout:w},data(){return{profileData:{},walletData:{},avatarUrl:"https://static3.smr.vc/fb020020-e232-4ece-a510-3082026ff106/37.png",editForm:{name:"",phone:""},deliveryForm:{address:"",city:"",state:"",zip_code:""},isUpdatingName:!1,isUpdatingPhone:!1,isUpdatingDelivery:!1}},methods:{async getProfileData(){try{const r=Date.now(),e=await d.get(`/profile/?_=${r}`);this.profileData=e.data.user,this.editForm.name=this.profileData.name||"",this.editForm.phone=this.profileData.phone||"",this.deliveryForm.address=this.profileData.address||"",this.deliveryForm.city=this.profileData.city||"",this.deliveryForm.state=this.profileData.state||"",this.deliveryForm.zip_code=this.profileData.zip_code||"",this.profileData.avatar&&(this.avatarUrl=`/storage/${this.profileData.avatar}`)}catch(r){i().error("Erro ao carregar dados do perfil"),console.error("Error loading profile data:",r)}},async getWalletData(){try{const r=await d.get("/profile/wallet");this.walletData=r.data.wallet}catch{i().error("Erro ao carregar dados da carteira")}},async updateName(){if(!this.editForm.name.trim()){i().error("Nome nÃ£o pode estar vazio");return}this.isUpdatingName=!0;try{await d.post("/profile/update-name",{name:this.editForm.name}),i().success("Nome atualizado com sucesso!"),await this.getProfileData()}catch{i().error("Erro ao atualizar nome")}finally{this.isUpdatingName=!1}},async updatePhone(){this.isUpdatingPhone=!0;try{await d.post("/profile/update-phone",{phone:this.editForm.phone}),i().success("Telefone atualizado com sucesso!"),await this.getProfileData()}catch{i().error("Erro ao atualizar telefone")}finally{this.isUpdatingPhone=!1}},async updateDeliveryAddress(){this.isUpdatingDelivery=!0;try{await d.post("/profile/update-delivery",{address:this.deliveryForm.address}),i().success("EndereÃ§o atualizado com sucesso!"),await this.getProfileData()}catch{i().error("Erro ao atualizar endereÃ§o")}finally{this.isUpdatingDelivery=!1}},async updateDeliveryCity(){this.isUpdatingDelivery=!0;try{await d.post("/profile/update-delivery",{city:this.deliveryForm.city}),i().success("Cidade atualizada com sucesso!"),await this.getProfileData()}catch{i().error("Erro ao atualizar cidade")}finally{this.isUpdatingDelivery=!1}},async updateDeliveryState(){this.isUpdatingDelivery=!0;try{await d.post("/profile/update-delivery",{state:this.deliveryForm.state}),i().success("Estado atualizado com sucesso!"),await this.getProfileData()}catch{i().error("Erro ao atualizar estado")}finally{this.isUpdatingDelivery=!1}},async updateDeliveryZipCode(){this.isUpdatingDelivery=!0;try{await d.post("/profile/update-delivery",{zip_code:this.deliveryForm.zip_code}),i().success("CEP atualizado com sucesso!"),await this.getProfileData()}catch{i().error("Erro ao atualizar CEP")}finally{this.isUpdatingDelivery=!1}},openFileInput(){this.$refs.fileInput.click()},async handleFileChange(r){const e=r.target.files[0];if(!e)return;const b=new FormData;b.append("avatar",e);try{const u=new FileReader;u.onload=()=>{this.avatarUrl=u.result},u.readAsDataURL(e),await d.post("/profile/upload-avatar",b,{headers:{"Content-Type":"multipart/form-data"}}),i().success("Avatar atualizado com sucesso!"),await this.getProfileData()}catch{i().error("Erro ao atualizar avatar")}},formatCurrency(r){return Number(r).toLocaleString("pt-BR",{minimumFractionDigits:2})},formatCPF(r){return r.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}},async created(){await this.getProfileData(),await this.getWalletData()}},F={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900"},P={class:"container mx-auto px-4 py-8"},U={class:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 backdrop-blur-lg border border-gray-700 rounded-3xl p-8 mb-8 shadow-2xl"},E={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},z={class:"text-center"},A={class:"relative inline-block mb-6"},S=["src"],R={class:"text-2xl font-bold text-white mb-2"},N={class:"text-gray-400 text-sm"},B={class:"space-y-4"},M={class:"relative"},I=["disabled"],G={key:0,class:"fas fa-spinner fa-spin"},V={key:1,class:"fas fa-save"},L={class:"relative"},T=["disabled"],q={key:0,class:"fas fa-spinner fa-spin"},W={key:1,class:"fas fa-save"},O={class:"w-full bg-gray-800/50 border border-gray-600 rounded-lg px-4 py-3 text-gray-300 cursor-not-allowed"},Z={key:0},J={class:"w-full bg-gray-800/50 border border-gray-600 rounded-lg px-4 py-3 text-gray-300 cursor-not-allowed"},j={class:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 backdrop-blur-lg border border-gray-700 rounded-3xl p-8 mb-8 shadow-2xl"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},K={class:"bg-gradient-to-br from-green-500/20 to-green-600/20 border border-green-500/30 rounded-2xl p-6 text-center hover:from-green-500/30 hover:to-green-600/30 transition-all duration-300 cursor-pointer"},Q={class:"text-2xl font-bold text-green-400"},X={class:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 backdrop-blur-lg border border-gray-700 rounded-3xl p-8 shadow-2xl"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"relative"},tt=["disabled"],et={key:0,class:"fas fa-spinner fa-spin"},at={key:1,class:"fas fa-save"},ot={class:"relative"},rt=["disabled"],st={key:0,class:"fas fa-spinner fa-spin"},it={key:1,class:"fas fa-save"},lt={class:"relative"},nt=["disabled"],dt={key:0,class:"fas fa-spinner fa-spin"},pt={key:1,class:"fas fa-save"},ut={class:"relative"},ct=["disabled"],mt={key:0,class:"fas fa-spinner fa-spin"},yt={key:1,class:"fas fa-save"};function gt(r,e,b,u,a,s){const g=v("RouterLink"),x=v("BaseLayout");return l(),D(x,null,{default:c(()=>[t("div",F,[t("div",P,[e[33]||(e[33]=t("div",{class:"mb-8"},[t("h1",{class:"text-4xl font-bold text-white mb-2"},"InformaÃ§Ãµes da Conta"),t("p",{class:"text-gray-400"},"Gerencie suas informaÃ§Ãµes pessoais e configuraÃ§Ãµes da conta")],-1)),t("div",U,[e[19]||(e[19]=t("h2",{class:"text-2xl font-bold text-white mb-6 border-b border-gray-600 pb-3"},"InformaÃ§Ãµes da Conta",-1)),t("div",E,[t("div",z,[t("div",A,[t("img",{src:a.avatarUrl,alt:"Avatar",class:"w-32 h-32 rounded-full border-4 border-primary-500 shadow-lg mx-auto object-cover"},null,8,S),t("button",{onClick:e[0]||(e[0]=(...o)=>s.openFileInput&&s.openFileInput(...o)),class:"absolute bottom-0 right-0 bg-primary-500 hover:bg-primary-600 text-white p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110"},e[14]||(e[14]=[t("i",{class:"fas fa-camera text-sm"},null,-1)])),t("input",{ref:"fileInput",type:"file",style:{display:"none"},onChange:e[1]||(e[1]=(...o)=>s.handleFileChange&&s.handleFileChange(...o)),accept:"image/*"},null,544)]),t("h3",R,m(a.profileData.name),1),t("p",N,"Membro desde "+m(a.profileData.dateHumanReadable),1)]),t("div",B,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Nome",-1)),t("div",M,[p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.editForm.name=o),type:"text",class:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",placeholder:"Seu nome completo"},null,512),[[y,a.editForm.name]]),t("button",{onClick:e[3]||(e[3]=(...o)=>s.updateName&&s.updateName(...o)),disabled:a.isUpdatingName,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded text-sm transition-all duration-300 disabled:opacity-50"},[a.isUpdatingName?(l(),n("i",G)):(l(),n("i",V))],8,I)])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Celular",-1)),t("div",L,[p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>a.editForm.phone=o),type:"tel",class:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",placeholder:"(11) 99999-9999"},null,512),[[y,a.editForm.phone]]),t("button",{onClick:e[5]||(e[5]=(...o)=>s.updatePhone&&s.updatePhone(...o)),disabled:a.isUpdatingPhone,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded text-sm transition-all duration-300 disabled:opacity-50"},[a.isUpdatingPhone?(l(),n("i",q)):(l(),n("i",W))],8,T)])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Email",-1)),t("div",O,m(a.profileData.email),1)]),a.profileData.cpf?(l(),n("div",Z,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"CPF",-1)),t("div",J,m(s.formatCPF(a.profileData.cpf)),1)])):_("",!0)])])]),t("div",j,[e[26]||(e[26]=t("h2",{class:"text-2xl font-bold text-white mb-6 border-b border-gray-600 pb-3"},"Atualizar InformaÃ§Ãµes",-1)),t("div",H,[f(g,{to:{name:"profileWallet"},class:"block"},{default:c(()=>[t("div",K,[e[20]||(e[20]=t("div",{class:"text-4xl mb-2"},"ðŸ’°",-1)),e[21]||(e[21]=t("h3",{class:"text-lg font-bold text-white mb-1"},"Saldo Atual",-1)),t("p",Q,"R$ "+m(s.formatCurrency(a.walletData.total_balance||0)),1),e[22]||(e[22]=t("p",{class:"text-xs text-gray-400 mt-2"},"Clique para gerenciar",-1))])]),_:1}),f(g,{to:{name:"profileAffiliate"},class:"block"},{default:c(()=>e[23]||(e[23]=[t("div",{class:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 border border-blue-500/30 rounded-2xl p-6 text-center hover:from-blue-500/30 hover:to-blue-600/30 transition-all duration-300 cursor-pointer"},[t("div",{class:"text-4xl mb-2"},"ðŸ‘¥"),t("h3",{class:"text-lg font-bold text-white mb-1"},"Painel de Afiliado"),t("p",{class:"text-sm text-blue-400"},"Gerenciar afiliaÃ§Ã£o"),t("p",{class:"text-xs text-gray-400 mt-2"},"Clique para acessar")],-1)])),_:1,__:[23]}),f(g,{to:{name:"profileWithdraw"},class:"block"},{default:c(()=>e[24]||(e[24]=[t("div",{class:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border border-yellow-500/30 rounded-2xl p-6 text-center hover:from-yellow-500/30 hover:to-yellow-600/30 transition-all duration-300 cursor-pointer"},[t("div",{class:"text-4xl mb-2"},"ðŸ’¸"),t("h3",{class:"text-lg font-bold text-white mb-1"},"Sacar"),t("p",{class:"text-sm text-yellow-400"},"Solicitar saque"),t("p",{class:"text-xs text-gray-400 mt-2"},"Clique para sacar")],-1)])),_:1,__:[24]}),f(g,{to:{name:"profileDeposit"},class:"block"},{default:c(()=>e[25]||(e[25]=[t("div",{class:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border border-purple-500/30 rounded-2xl p-6 text-center hover:from-purple-500/30 hover:to-purple-600/30 transition-all duration-300 cursor-pointer"},[t("div",{class:"text-4xl mb-2"},"ðŸ’³"),t("h3",{class:"text-lg font-bold text-white mb-1"},"Depositar"),t("p",{class:"text-sm text-purple-400"},"Adicionar saldo"),t("p",{class:"text-xs text-gray-400 mt-2"},"Clique para depositar")],-1)])),_:1,__:[25]})])]),t("div",X,[e[32]||(e[32]=t("h2",{class:"text-2xl font-bold text-white mb-6 border-b border-gray-600 pb-3"},"InformaÃ§Ãµes de Entrega",-1)),t("div",Y,[t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"EndereÃ§o",-1)),t("div",$,[p(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>a.deliveryForm.address=o),type:"text",class:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",placeholder:"Rua, nÃºmero, complemento"},null,512),[[y,a.deliveryForm.address]]),t("button",{onClick:e[7]||(e[7]=(...o)=>s.updateDeliveryAddress&&s.updateDeliveryAddress(...o)),disabled:a.isUpdatingDelivery,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded text-sm transition-all duration-300 disabled:opacity-50"},[a.isUpdatingDelivery?(l(),n("i",et)):(l(),n("i",at))],8,tt)])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Cidade",-1)),t("div",ot,[p(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>a.deliveryForm.city=o),type:"text",class:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",placeholder:"Nome da cidade"},null,512),[[y,a.deliveryForm.city]]),t("button",{onClick:e[9]||(e[9]=(...o)=>s.updateDeliveryCity&&s.updateDeliveryCity(...o)),disabled:a.isUpdatingDelivery,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded text-sm transition-all duration-300 disabled:opacity-50"},[a.isUpdatingDelivery?(l(),n("i",st)):(l(),n("i",it))],8,rt)])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Estado",-1)),t("div",lt,[p(t("select",{"onUpdate:modelValue":e[10]||(e[10]=o=>a.deliveryForm.state=o),class:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300"},e[29]||(e[29]=[t("option",{value:""},"Selecione o estado",-1),t("option",{value:"AC"},"Acre",-1),t("option",{value:"AL"},"Alagoas",-1),t("option",{value:"AP"},"AmapÃ¡",-1),t("option",{value:"AM"},"Amazonas",-1),t("option",{value:"BA"},"Bahia",-1),t("option",{value:"CE"},"CearÃ¡",-1),t("option",{value:"DF"},"Distrito Federal",-1),t("option",{value:"ES"},"EspÃ­rito Santo",-1),t("option",{value:"GO"},"GoiÃ¡s",-1),t("option",{value:"MA"},"MaranhÃ£o",-1),t("option",{value:"MT"},"Mato Grosso",-1),t("option",{value:"MS"},"Mato Grosso do Sul",-1),t("option",{value:"MG"},"Minas Gerais",-1),t("option",{value:"PA"},"ParÃ¡",-1),t("option",{value:"PB"},"ParaÃ­ba",-1),t("option",{value:"PR"},"ParanÃ¡",-1),t("option",{value:"PE"},"Pernambuco",-1),t("option",{value:"PI"},"PiauÃ­",-1),t("option",{value:"RJ"},"Rio de Janeiro",-1),t("option",{value:"RN"},"Rio Grande do Norte",-1),t("option",{value:"RS"},"Rio Grande do Sul",-1),t("option",{value:"RO"},"RondÃ´nia",-1),t("option",{value:"RR"},"Roraima",-1),t("option",{value:"SC"},"Santa Catarina",-1),t("option",{value:"SP"},"SÃ£o Paulo",-1),t("option",{value:"SE"},"Sergipe",-1),t("option",{value:"TO"},"Tocantins",-1)]),512),[[C,a.deliveryForm.state]]),t("button",{onClick:e[11]||(e[11]=(...o)=>s.updateDeliveryState&&s.updateDeliveryState(...o)),disabled:a.isUpdatingDelivery,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded text-sm transition-all duration-300 disabled:opacity-50"},[a.isUpdatingDelivery?(l(),n("i",dt)):(l(),n("i",pt))],8,nt)])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"CEP",-1)),t("div",ut,[p(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>a.deliveryForm.zip_code=o),type:"text",class:"w-full bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300",placeholder:"00000-000",maxlength:"9"},null,512),[[y,a.deliveryForm.zip_code]]),t("button",{onClick:e[13]||(e[13]=(...o)=>s.updateDeliveryZipCode&&s.updateDeliveryZipCode(...o)),disabled:a.isUpdatingDelivery,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded text-sm transition-all duration-300 disabled:opacity-50"},[a.isUpdatingDelivery?(l(),n("i",mt)):(l(),n("i",yt))],8,ct)])])])])])])]),_:1})}const xt=h(k,[["render",gt],["__scopeId","data-v-c21804fa"]]);export{xt as default};

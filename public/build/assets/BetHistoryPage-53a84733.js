import{_ as y,B as f,h as b,u as l,o as r,c as v,w as c,r as h,a as t,f as g,t as o,n as u,i as p,d,F as w,j as B}from"./app-d4614e56.js";import"https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js";const L={components:{BaseLayout:f},data(){return{bets:[],isLoading:!1,totalBetAmount:0,lastBetDate:"",totalBets:0}},methods:{async getBetHistory(){this.isLoading=!0;try{const e=Date.now(),s=await b.get(`/profile/bet-history?_=${e}`);s.data&&s.data.data?(this.bets=s.data.data,this.totalBets=s.data.total,this.totalBetAmount=s.data.totalBetAmount||0,this.bets.length>0&&(this.lastBetDate=this.formatDate(this.bets[0].created_at))):l().error("Dados não encontrados")}catch(e){l().error("Erro ao carregar histórico de apostas"),console.error("Error loading bet history:",e)}finally{this.isLoading=!1}},formatCurrency(e){return Number(e).toLocaleString("pt-BR",{minimumFractionDigits:2})},formatDate(e){return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},async refreshHistory(){await this.getBetHistory(),l().success("Histórico atualizado!")},handleVisibilityChange(){document.hidden||this.refreshHistory()}},async created(){await this.getBetHistory(),document.addEventListener("visibilitychange",this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}},k={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900"},C={class:"container mx-auto px-4 py-8"},H={class:"mb-8"},D={class:"flex items-center gap-4 mb-4"},A={class:"text-4xl font-bold text-white"},V={class:"text-gray-400"},R={class:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-sm rounded-xl p-6 mb-6"},z={class:"flex items-center justify-between mb-4"},E=["disabled"],N={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},T={class:"bg-white/5 backdrop-blur-sm rounded-lg p-4"},j={class:"text-2xl font-bold text-white"},$={class:"bg-white/5 backdrop-blur-sm rounded-lg p-4"},F={class:"text-2xl font-bold text-white"},P={class:"bg-white/5 backdrop-blur-sm rounded-lg p-4"},S={class:"text-2xl font-bold text-white"},I={class:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 backdrop-blur-lg border border-gray-700 rounded-3xl p-8 shadow-2xl"},J={class:"flex items-center justify-between mb-6"},G={class:"text-2xl font-bold text-white"},U={class:"text-gray-400 text-sm"},q={key:0,class:"text-center py-12"},K={class:"text-gray-400"},M={key:1,class:"space-y-4"},O={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center"},Q={class:"flex items-center gap-4"},W={class:"text-white font-semibold"},X={class:"text-gray-400 text-sm"},Y={class:"text-center md:text-left"},Z={class:"text-gray-400 text-sm"},tt={class:"text-center md:text-left"},st={class:"text-gray-400 text-sm"},et={class:"text-white font-mono text-sm"},ot={class:"text-center md:text-right"},at={class:"text-gray-400 text-sm"},it={class:"text-white font-semibold"},rt={class:"text-gray-400 text-xs"},nt={key:2,class:"text-center py-12"},dt={class:"text-2xl font-bold text-white mb-2"},lt={class:"text-gray-400 mb-6"},ct={class:"mt-8 text-center"},mt={class:"text-gray-400 text-sm"};function ht(e,s,x,gt,i,n){const m=h("RouterLink"),_=h("BaseLayout");return r(),v(_,null,{default:c(()=>[t("div",k,[t("div",C,[t("div",H,[t("div",D,[g(m,{to:{name:"profileAccount"},class:"text-primary-400 hover:text-primary-300"},{default:c(()=>s[1]||(s[1]=[t("i",{class:"fas fa-arrow-left text-xl"},null,-1)])),_:1,__:[1]}),t("h1",A,o(e.$t("Histórico de Apostas")),1)]),t("p",V,o(e.$t("Visualize todas as suas apostas realizadas")),1)]),t("div",R,[t("div",z,[s[3]||(s[3]=t("h1",{class:"text-2xl font-bold text-white"},"Histórico de Apostas",-1)),t("button",{onClick:s[0]||(s[0]=(...a)=>n.refreshHistory&&n.refreshHistory(...a)),disabled:i.isLoading,class:"bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition-all duration-300 flex items-center gap-2 disabled:opacity-50"},[t("i",{class:u(["fas fa-sync-alt",{"animate-spin":i.isLoading}])},null,2),s[2]||(s[2]=p(" Atualizar ",-1))],8,E)]),t("div",N,[t("div",T,[s[4]||(s[4]=t("h3",{class:"text-gray-300 text-sm font-medium mb-1"},"Total de Apostas",-1)),t("p",j,o(i.totalBets),1)]),t("div",$,[s[5]||(s[5]=t("h3",{class:"text-gray-300 text-sm font-medium mb-1"},"Total Apostado",-1)),t("p",F,"R$ "+o(n.formatCurrency(i.totalBetAmount)),1)]),t("div",P,[s[6]||(s[6]=t("h3",{class:"text-gray-300 text-sm font-medium mb-1"},"Última Aposta",-1)),t("p",S,o(i.lastBetDate||"Nunca"),1)])])]),t("div",I,[t("div",J,[t("h3",G,o(e.$t("Histórico de Apostas")),1),t("div",U,o(i.totalBets)+" registros ",1)]),i.isLoading?(r(),d("div",q,[s[7]||(s[7]=t("i",{class:"fas fa-spinner fa-spin text-4xl text-primary-500 mb-4"},null,-1)),t("p",K,o(e.$t("Carregando histórico de apostas...")),1)])):i.bets.length>0?(r(),d("div",M,[(r(!0),d(w,null,B(i.bets,a=>(r(),d("div",{key:a.id,class:"bg-gray-700/30 border border-gray-600/50 rounded-lg p-6 hover:bg-gray-700/50 transition-all duration-300"},[t("div",O,[t("div",Q,[s[8]||(s[8]=t("div",{class:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-dice text-blue-400 text-xl"})],-1)),t("div",null,[t("h4",W,o(a.game_name||e.$t("Jogo de Casino")),1),t("p",X,o(a.provider_name||"Casino"),1)])]),t("div",Y,[t("p",Z,o(a.result==="win"?e.$t("Valor Ganho"):e.$t("Valor Perdido")),1),t("p",{class:u(a.result==="win"?"text-2xl font-bold text-green-400":"text-2xl font-bold text-red-400")}," R$ "+o(n.formatCurrency(a.amount)),3)]),t("div",tt,[t("p",st,o(e.$t("ID da Transação")),1),t("p",et,o(a.transaction_id),1)]),t("div",ot,[t("p",at,o(e.$t("Data")),1),t("p",it,o(n.formatDate(a.created_at)),1),t("p",rt,o(a.dateHumanReadable),1)])])]))),128))])):(r(),d("div",nt,[s[9]||(s[9]=t("div",{class:"text-6xl mb-6"},"🎲",-1)),t("h3",dt,o(e.$t("Nenhuma aposta encontrada")),1),t("p",lt,o(e.$t("Você ainda não realizou nenhuma aposta")),1),g(m,{to:{name:"home"},class:"bg-primary-500 hover:bg-primary-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300"},{default:c(()=>[p(o(e.$t("Começar a Jogar")),1)]),_:1})])),t("div",ct,[t("p",mt," Exibindo "+o(i.totalBets)+" apostas do seu histórico completo ",1)])])])])]),_:1})}const _t=y(L,[["render",ht],["__scopeId","data-v-f463423f"]]);export{_t as default};
